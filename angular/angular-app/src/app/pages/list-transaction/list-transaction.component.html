<div class="mdl-cell mdl-cell--12-col-desktop mdl-cell--12-col-tablet mdl-cell--6-col-phone">
    <app-loader [width]="'100%'" [position]="'sticky'" [height]="'450px'" [bg]="'transparant'" [show]="showLowderListTransaction"></app-loader>
    <base-card>
      <base-card-title>
        <h1 class="mdl-card__title-text">Liste des transactions</h1>
        <div class="mdl-layout-spacer"></div>
        <div class="mdl-textfield-search mdl-js-textfield mdl-textfield--expandable search-table">
          <div class="mdl-textfield label-search">
            <input class="mdl-textfield__input" type="text" id="search2" (input)="setFilteredItems()"
              [(ngModel)]="filterValue" placeholder="Rechercher" />
            <label class="mdl-textfield__label" for="search2"></label>
          </div>
        </div>
        <base-pagination [numPage]="numPage" [currentPage]="currentPage" (changePage)="changePage($event)">
        </base-pagination>
        <button (click)='openDialog()'
          class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect button--colored-teal dialog-button ">Générer une transaction
        </button>
        &nbsp;
      </base-card-title>
      <base-card-body class="no-padding">
        <table  class="table-list mdl-data-table mdl-js-data-table sorting-table">
          <thead>
            <tr>
              <th *ngFor="let header of advancedHeaders ; let i = index" class="mdl-data-table__cell--non-numeric"
              (click)="changeSorting(header, i)">
                <span>{{ header.name}}</span>
                <i *ngIf="header.sort !== null " class="material-icons sorting"
                  [class.asc]="header.sort === sortOrder.asc"
                  [class.active]="header.sort === sortOrder.asc || header.sort === sortOrder.desc">sort</i>
              </th>

            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let row of advancedTable  | slice:0:limit; let i = index;">
              <td class="mdl-data-table__cell--non-numeric">{{ row.start_date | date:"yyyy-MM-dd"}}</td>
              <td class="mdl-data-table__cell--non-numeric">{{ row.end_date | date:"yyyy-MM-dd"}}</td>
              <td class="mdl-data-table__cell--non-numeric">{{ row.statut }}
              </td>
              <td class="column-actions mdl-data-table__cell--non-numeric">
                <button (click)="gotoDetails(row)"
                  class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect button--colored-teal dialog-button"
                >Détails
                </button>
                <button (click)="integrerTransaction(row.transaction_id)"style="margin-left: 3px;"
                  class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect button--colored-teal dialog-button">Intégrer
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </base-card-body>
    </base-card>
  </div>
